<p>
    Evaluate weakness result works!
</p>

<div>
    <div class="table-responsive">
        <h3>Attack Plan</h3>

        <select class="m-1" [(ngModel)]="selectedThreatAgent" (ngModelChange)="threatAgentChanged($event)">
            <option [ngValue]="null" selected></option>
            <option *ngFor="let threatAgent of threatAgents" [ngValue]="threatAgent">
                {{threatAgent.name}}
            </option>
        </select>

        <table class="table table-striped table-bordered table-hover">
            <thead class="align-middle" style="background: #cce6ff">
            <tr>
                <th class="border-0" style="background-color: #ffffff"></th>
                <th class="text-center align-middle"
                    *ngFor="let ckc7Phase of ckc7Phases">
                    <a [routerLink]="['/phase-mgm', ckc7Phase.id]">{{ckc7Phase.name}}</a>
                </th>
            </tr>
            </thead>

            <tbody>

            <tr *ngFor="let attackLevel of attackLevels">
                <th class="text-center align-middle" style="background: #cc99ff">
                    <a [routerLink]="['/level-mgm', attackLevel.id]">{{attackLevel.name}}</a>
                </th>

                <td *ngFor="let ckc7Phase of ckc7Phases">
                    <div class="container-fluid">
                        <button type="button" class="btn btn-secondary m-1"
                                *ngFor="let augmentedAttackStrategy of attacksCKC7Matrix[attackLevel.id][ckc7Phase.id]; trackBy: trackByID"
                                [routerLink]="['/attack-strategy-mgm', augmentedAttackStrategy.id]"
                                [disabled]="!selectedThreatAgent || !augmentedAttackStrategy.enabled"
                                [ngClass]="augmentedAttackStrategy.cssClass"
                        >
                            {{augmentedAttackStrategy.attackStrategy.name}}
                            <ul *ngIf="debug">
                                <li>Enabled {{augmentedAttackStrategy.enabled}}</li>
                                <li>Initial likelihood {{augmentedAttackStrategy.initialLikelihood}}</li>
                                <li>Initial likelihood number {{augmentedAttackStrategy.initialLikelihoodNumber}}</li>
                                <li>CISO Answers likelihood (Vulnerability) {{augmentedAttackStrategy.cisoAnswersLikelihood}}</li>
                                <li>CISO Answers likelihood (Vulnerability) number
                                    {{augmentedAttackStrategy.cisoAnswersLikelihoodNumber}}
                                </li>
                                <li>Contextual likelihood {{augmentedAttackStrategy.contextualLikelihood}}</li>
                                <li>Contextual likelihood number
                                    {{augmentedAttackStrategy.contextualLikelihoodNumber}}
                                </li>
                            </ul>
                        </button>
                    </div>
                </td>
            </tbody>
        </table>
    </div>
</div>
