<!--
  ~ Copyright 2019 HERMENEUT Consortium
  ~  
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~  
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~  
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->
<ng-container>
    <div class="card-box">
        <a (click)="showHelp = !showHelp" [attr.aria-expanded]="!showHelp"
           aria-controls="descriptionCollapsible" class="float-right">
            <i class="fa fa-question-circle fa-lg" aria-hidden="true"></i>
        </a>

        <div class="row" [ngbCollapse]="!showHelp">
            <p>Put some help instructions here.</p>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="dataAssets.length === 0">
    <div class="text-center" style="margin-top: 50px">
        <p style="color: orange"><i class="fa fa-exclamation-triangle fa-4x" aria-hidden="true"></i></p>
        <p style="color: grey">No Intangible Data assets have been selected from asset-clustering phase. If you want to
            estimate losses on Data, please go to the
            <a href="javascript:void(0)" [routerLink]="['/identify-asset/asset-clustering']">asset-clustering</a> phase
            and select your Data assets from the list.</p>
    </div>
</ng-container>
<ng-container *ngIf="dataAssets.length > 0">
    <h3>Determining the Economic Value of Data</h3>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <ng-container *ngFor="let myAsset of dataAssets; let i = index;">
                    <div class="row input-group" style="margin-bottom: 10px">
                        <div class="col-md-4" style="overflow-wrap: break-word;">
                            <span><h2><a [routerLink]="['/asset-mgm', myAsset.asset?.id]">{{myAsset.asset.name}}</a></h2></span>
                        </div>
                        <div class="col-md-4" style="overflow-wrap: break-word;">
                            <span>{{myAsset.asset.description}}</span>
                        </div>
                        <div class="input-group col-md-4">
                            <div class="input-group-addon">
                                <span class="input-group-text">&euro;</span>
                            </div>
                            <input type="number" class="form-control input-append"
                                   placeholder="Loss value"
                                   aria-label="lossValue" aria-describedby="basic-addon2" pattern="[0-9]+"
                                   [(ngModel)]="myAsset.lossValue">
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <button class="btn btn-light" (click)="close()">Close</button>
            </div>
            <div class="col-md-1 offset-md-10">
                <button class="btn btn-primary" style="margin-left: 10px" (click)="updateDataAssets()">Save</button>
            </div>
        </div>
    </div>
</ng-container>
