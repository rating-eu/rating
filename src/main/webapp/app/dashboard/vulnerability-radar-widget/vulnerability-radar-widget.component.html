<ng-container>
    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h2>
                        <a href="javascript:void(0);" class="collapse-link">Vulnerability Radar</a>
                    </h2>
                </mat-panel-title>
            </mat-expansion-panel-header>

            <!--<div *ngIf="vulnerabilityAreas && vulnerabilityAreas.length && vulnerabilityAreasToggleMap">
                <ng-container *ngFor="let area of vulnerabilityAreas">
                    <mat-slide-toggle class="mx-1" *ngIf="vulnerabilityAreasToggleMap.has(area.id)"
                                      [checked]="vulnerabilityAreasToggleMap.get(area.id)"
                                      (change)="toggleChange(area, $event)"
                    >
                        {{area.name | titlecase}}
                    </mat-slide-toggle>
                </ng-container>
            </div>-->

            <div class="row">
                <div class="col-md-6">
                    <div *ngIf="radarChartDataSets && radarChartDataSets.length" style="display: block">
                        <canvas baseChart
                                [datasets]="radarChartDataSets"
                                [options]="radarChartOptions"
                                [labels]="radarChartLabels"
                                [chartType]="radarChartType">
                        </canvas>
                    </div>
                </div>
                <div class="col-md-6">
                    <div *ngIf="vulnerabilityAreas && containerTypes && data" class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-light">
                            <tr>
                                <th>Query</th>
                                <th *ngFor="let area of vulnerabilityAreas" class="text-center"
                                    style="font-size: large;"></th>
                                <th></th>
                            </tr>
                            <tr>
                                <th class="text-center" style="font-size: large;">Title</th>
                                <th *ngFor="let area of vulnerabilityAreas" class="text-center"
                                    style="font-size: large;">{{area.name | titlecase}}</th>
                                <th>Total %</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let containerType of containerTypes" class="thead-light">
                                <th class="text-left">{{containerType | replace:'_':' ' | titlecase}}</th>
                                <td *ngFor="let area of vulnerabilityAreas"
                                    class="text-center">{{data.get(area.id).get(containerType)}}</td>
                                <td class="text-center">{{data.get(-1).get(containerType) | percent}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </mat-expansion-panel>
    </mat-accordion>
</ng-container>
