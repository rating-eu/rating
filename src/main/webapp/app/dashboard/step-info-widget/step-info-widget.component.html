<div class="container" *ngIf="loading">
  <div class="loader"></div>
</div>
<div class="" *ngIf="!loading">
  <div class="x_panel">
    <div class="x_title">
      <h2 style="padding: 10px;">Check your progress</h2>
      <ul class="nav navbar-right panel_toolbox">
        <li style="width: 24px; cursor: default"></li>
        <li style="width: 24px; cursor: default"></li>
        <li>
          <a href="javascript:void(0)" class="collapse-link" (click)="isCollapsed = !isCollapsed">
            <i *ngIf="!isCollapsed" class="fa fa-chevron-up"></i>
            <i *ngIf="isCollapsed" class="fa fa-chevron-down"></i>
          </a>
        </li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="table-responsive x_content" [ngbCollapse]="isCollapsed">
      <table class="table">
        <thead>
          <tr>
            <th style="width: 15%">Steps</th>
            <th>Description</th>
            <th>Status</th>
            <th style="width: 7%" class="text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Asset Clustering</td>
            <td>First step of the process that aims at describing the company domain in terms of owned assets. In other
              terms this phase responds to the question "What do I own?”</td>
            <td class="text-center">
              <i *ngIf="assetClusteringStatus" style="color: green" class="fa fa-check" aria-hidden="true"></i>
              <i *ngIf="!assetClusteringStatus" style="color: orange" class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            </td>
            <td class="text-center">
              <a *ngIf="!assetClusteringStatus" [routerLink]="['/identify-asset']"><i class="fa fa-plus-square"
                  placement="top" ngbTooltip="Create" aria-hidden="true"></i></a>
              <ng-container *ngIf="assetClusteringStatus">
                <a href="javascript:void(0)"><i placement="top" ngbTooltip="View"
                    class="fa fa-eye" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert,'/identify-asset', 'If you continue you erase previous saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert, undefined, 'If you continue you erase saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Delete" class="fa fa-trash" aria-hidden="true"></i></a>
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Identify Threat Agents</td>
            <td>Aims at identifying who may be interested in performing the attack against the company and why, using
              as a base what emerged from asset clustering. This phase responds to the questions: “Who would attack my
              company?” and “Why somebody should attack my company?”</td>
            <td class="text-center">
              <i *ngIf="identifyThreatAgentsStatus" style="color: green" class="fa fa-check" aria-hidden="true"></i>
              <i *ngIf="!identifyThreatAgentsStatus" style="color: orange" class="fa fa-exclamation-triangle"
                aria-hidden="true"></i>
            </td>
            <td class="text-center">
              <a *ngIf="!identifyThreatAgentsStatus" [routerLink]="['/identify-threat-agent/questionnaires/ID_THREAT_AGENT']"><i
                  class="fa fa-plus-square" placement="top" ngbTooltip="Create" aria-hidden="true"></i></a>
              <ng-container *ngIf="identifyThreatAgentsStatus">
                <a href="javascript:void(0)"><i placement="top" ngbTooltip="View"
                    class="fa fa-eye" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert,'/identify-threat-agent/questionnaires/ID_THREAT_AGENT', 'If you continue you erase previous saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert, undefined, 'If you continue you erase saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Delete" class="fa fa-trash" aria-hidden="true"></i></a>
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Assess Vulnerablities</td>
            <td>Measures the weak points of company surface through self-assessment (cyber maturity questionnaire). It
              responds to the question: “Which are the weaknesses of my company?”</td>
            <td class="text-center">
              <i *ngIf="assessVulnerablitiesStatus" style="color: green" class="fa fa-check" aria-hidden="true"></i>
              <i *ngIf="!assessVulnerablitiesStatus" style="color: orange" class="fa fa-exclamation-triangle"
                aria-hidden="true"></i>
            </td>
            <td class="text-center">
              <a *ngIf="!assessVulnerablitiesStatus" [routerLink]="['/evaluate-weakness/questionnaires/SELFASSESSMENT']"><i
                  class="fa fa-plus-square" placement="top" ngbTooltip="Create" aria-hidden="true"></i></a>
              <ng-container *ngIf="assessVulnerablitiesStatus">
                <a href="javascript:void(0)"><i placement="top" ngbTooltip="View"
                    class="fa fa-eye" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert,'/evaluate-weakness/questionnaires/SELFASSESSMENT', 'If you continue you erase previous saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert, undefined, 'If you continue you erase saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Delete" class="fa fa-trash" aria-hidden="true"></i></a>
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Impact Evaluation</td>
            <td>Measuring the impact; "Measuring the impact of cyberattacks on firms' intangible assets"</td>
            <td class="text-center">
              <i *ngIf="impactEvaluationStatus" style="color: green" class="fa fa-check" aria-hidden="true"></i>
              <i *ngIf="!impactEvaluationStatus" style="color: orange" class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            </td>
            <td class="text-center">
              <a *ngIf="!impactEvaluationStatus" [routerLink]="['/impact-evaluation']"><i class="fa fa-plus-square"
                  placement="top" ngbTooltip="Create" aria-hidden="true"></i></a>
              <ng-container *ngIf="impactEvaluationStatus">
                <a href="javascript:void(0)"><i placement="top" ngbTooltip="View"
                    class="fa fa-eye" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert,'/impact-evaluation', 'If you continue you erase previous saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert, undefined, 'If you continue you erase saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Delete" class="fa fa-trash" aria-hidden="true"></i></a>
              </ng-container>
            </td>
          </tr>
          <tr>
            <td>Risk Evaluation</td>
            <td>Manage your risk based on cost benefit analisys. The general approach includes both qualitative and
              quantitative metodologies based on risk definition (ISO31000) and risk management (ISO310010).</td>
            <td class="text-center">
              <i *ngIf="riskEvaluationStatus" style="color: green" class="fa fa-check" aria-hidden="true"></i>
              <i *ngIf="!riskEvaluationStatus" style="color: orange" class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            </td>
            <td class="text-center">
              <a *ngIf="!riskEvaluationStatus" [routerLink]="['/risk-management/risk-evaluation']"><i class="fa fa-plus-square"
                  placement="top" ngbTooltip="Create" aria-hidden="true"></i></a>
              <ng-container *ngIf="riskEvaluationStatus">
                <a href="javascript:void(0)"><i placement="top" ngbTooltip="View"
                    class="fa fa-eye" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert,'/risk-management/risk-evaluation', 'If you continue you erase previous saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                <a href="javascript:void(0)" (click)="open(alert, undefined, 'If you continue you erase saved data. Do you want to proceed?')"><i
                    placement="top" ngbTooltip="Delete" class="fa fa-trash" aria-hidden="true"></i></a>
              </ng-container>
            </td>
          </tr>
        </tbody>
      </table>
      <ng-template #alert let-d="dismiss" let-c="close">
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Edit notification</h4>
          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{alertMessage}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-dark" (click)="c('Save click')">OK</button>
        </div>
      </ng-template>
    </div>
  </div>
</div>